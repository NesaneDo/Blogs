﻿﻿﻿﻿﻿﻿   ##红黑树的插入  红黑树插入操作分为两个步骤：  1. 查找插入的位置  2. 插入后自平衡  ***注意：插入节点，必须为 `红色` ,因为红色在父节点（如果存在）为黑色节点时，红黑树的黑色平衡没有被破坏，不需要做自平衡操作。但如果插入结点是黑色，那么插入位置所在的子树黑色节点总是多 1，必须做自平衡。***  ###插入情景分析#####1. 红黑树为空树最简单的情况，直接把插入节点作为根节点即可。  ***注意：根据红黑树的性质 2：`根节点必须是黑色` ，所有要把插入节点变为黑色***#####2. 插入节点的 key 已存在处理：更新当前节点的 value 值即可。#####3. 插入节点的父节点是黑色处理：由于插入的节点是红色的，当插入节点为黑色时，并不会影响红黑树的平衡，所以直接根据父节点插入即可，无需自平衡。#####4. 插入节点的父节点为红色根据红黑树性质 2：`根节点是黑色`，如果插入节点是父节点是红色，那么该父节点不可能为根节点，所以插入节点一定存在 **爷爷节点**。并且后续操作需要爷爷节点的参与。该情况分为以下几种：+ 4.1 叔叔节点存在且为红色根据性质 4：`红色节点不能相连`，所以爷爷节点一定是黑色。  因为不可以同时存在两个相连的红节点，那么此时该插入子树的红黑层数的情况是：黑红红。显然，最简单的处理方式就是将其改为：红黑红。  处理：  	1. 将 P 和 U 改为黑色	2. 将 PP 改为红色  	3. 将 PP 设置为当前节点，进行后续处理   <img src="https://gitee.com/Rondo_11/pics_bed/raw/master/DataStructure/RebBlackTree/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5-%E5%8F%94%E5%8F%94%E8%8A%82%E7%82%B9%E5%AD%98%E5%9C%A8%E4%B8%94%E4%B8%BA%E7%BA%A2%E8%89%B2-1.png" width = "300" alt="1"/>  ===> <img src="https://gitee.com/Rondo_11/pics_bed/raw/master/DataStructure/RebBlackTree/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5-%E5%8F%94%E5%8F%94%E8%8A%82%E7%82%B9%E5%AD%98%E5%9C%A8%E4%B8%94%E4%B8%BA%E7%BA%A2%E8%89%B2-2.png" width = "300" alt="2"/>   + 4.2 叔叔节点不存在或为黑色，并且插入节点的父节点是爷爷节点的左子节点***注意：单纯从插入来看，叔叔节点非红即空（NIL节点），否则的话破坏了红黑树的性质 5，此路径会比其它路径多一个黑色节点。***	+ 4.2.1 新插入节点，为其父节点的左子节点 （LL 双红）	处理：		1. 变色：将 P 设置为黑色，将 PP 设置为红色		2. 对 PP 节点进行右旋  <img src="https://gitee.com/Rondo_11/pics_bed/raw/master/DataStructure/RebBlackTree/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5-%E5%8F%94%E5%8F%94%E8%8A%82%E7%82%B9%E5%AD%98%E5%9C%A8%E4%B8%94%E4%B8%BA%E7%BA%A2%E8%89%B2-LLrr.png" alt="LL 双红"/>	+ 4.2.2 新插入节点，为其父节点的右子节点（LR 双红）	处理：		1. 对 P 进行左旋		2. 将 P 设置为当前节点，得到 LL 双红的情况		3. 按照 LL 双红的情况处理（4.2.1）  <img src="https://gitee.com/Rondo_11/pics_bed/raw/master/DataStructure/RebBlackTree/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5-%E5%8F%94%E5%8F%94%E8%8A%82%E7%82%B9%E5%AD%98%E5%9C%A8%E4%B8%94%E4%B8%BA%E7%BA%A2%E8%89%B2-LRrr.png" width='72%' alt="RR 双红"/>+ 4.3 叔叔节点不存在或为黑色，并且插入节点的父节点是爷爷节点的右子节点	+ 4.3.1 新插入节点，为其父节点的右子节点 （RR 双红）	处理：		1. 变色：将 P 变为黑色，将 PP 变为红色		2. 对 PP 节点进行左旋  <img src="https://gitee.com/Rondo_11/pics_bed/raw/master/DataStructure/RebBlackTree/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5-%E5%8F%94%E5%8F%94%E8%8A%82%E7%82%B9%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%88%96%E4%B8%BA%E9%BB%91%E8%89%B2-RRrr.png" alt="LL 双红"/>	+ 4.3.2 新插入节点，为其父节点的左子节点 （RL 双红）	处理：		1. 对 P 进行右旋		2. 将 P 设置为当前节点，得到 RR 双红的情况		3. 按照 RR 双红的情况处理（4.3.1）  		<img src="https://gitee.com/Rondo_11/pics_bed/raw/master/DataStructure/RebBlackTree/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5-%E5%8F%94%E5%8F%94%E8%8A%82%E7%82%B9%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%88%96%E4%B8%BA%E9%BB%91%E8%89%B2-RLrr.png" alt="RL 双红"/>